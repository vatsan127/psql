Create user
===========
sudo -i -u postgres
psql -d postgres
CREATE ROLE steve WITH LOGIN SUPERUSER PASSWORD 'password';

Setup sample database
=====================
psql -U srivatsan -d postgres

CREATE DATABASE employees;
\c employees
CREATE SCHEMA employees;

pg_restore -d postgresql://srivatsan:password@localhost:5432/employees -Fc employees.sql.gz -c -v --no-owner --no-privileges

SELECT d.dept_name, AVG(s.amount) AS average_salary
FROM employees.salary s
JOIN employees.department_employee de ON s.employee_id = de.employee_id
JOIN employees.department d ON de.department_id = d.id
WHERE s.to_date > CURRENT_DATE AND de.to_date > CURRENT_DATE
GROUP BY d.dept_name
ORDER BY average_salary DESC
LIMIT 5;
